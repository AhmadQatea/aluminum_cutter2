<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“</text></svg>">
    <title>Ø­Ø§Ø³Ø¨Ø© ØªÙ‚Ø·ÙŠØ¹ Ø£Ù„ÙˆØ§Ø­ Ø§Ù„ÙØ§ÙŠØ¨Ø±</title>
    <style>
        :root {
            --primary: #1a2a6c;
            --primary-dark: #2a5298;
            --secondary: #48bb78;
            --danger: #ed64a6;
            --dark: #2d3748;
            --light: #f7fafc;
            --gray: #718096;
            --white: #ffffff;
            --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --radius: 12px;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 15px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 100%;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.97);
            border-radius: var(--radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            padding: 20px 15px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        h1 {
            font-size: 1.5rem;
            margin-bottom: 8px;
            font-weight: 700;
        }
        
        .subtitle {
            opacity: 0.95;
            font-size: 0.9rem;
            font-weight: 300;
        }
        
        .app-switcher {
            display: flex;
            justify-content: center;
            margin: 15px 0;
            gap: 8px;
            flex-wrap: wrap;
        }
        
        .app-btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            text-decoration: none;
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            flex: 1;
            text-align: center;
            max-width: 160px;
        }
        
        .app-btn:hover, .app-btn.active {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(26, 42, 108, 0.3);
        }
        
        .app-btn.active {
            background: linear-gradient(135deg, var(--secondary) 0%, #38a169 100%);
        }
        
        .main-content {
            padding: 20px 15px;
        }
        
        .card {
            background: var(--white);
            padding: 20px;
            border-radius: var(--radius);
            margin-bottom: 20px;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .card-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .form-group {
            margin-bottom: 18px;
        }
        
        .form-row {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        select, input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: var(--white);
        }
        
        select:focus, input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26, 42, 108, 0.1);
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: var(--white);
            border: none;
            padding: 14px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            box-shadow: var(--shadow);
            width: 100%;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(26, 42, 108, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger) 0%, #ed8936 100%);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--secondary) 0%, #38a169 100%);
        }
        
        .pieces-list {
            background: rgba(247, 250, 252, 0.8);
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }
        
        .piece-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #e2e8f0;
            transition: background-color 0.3s ease;
        }
        
        .piece-item:hover {
            background: rgba(26, 42, 108, 0.05);
            border-radius: 6px;
        }
        
        .piece-item:last-child {
            border-bottom: none;
        }
        
        .piece-info {
            font-size: 0.9rem;
        }
        
        .remove-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }
        
        .remove-btn:hover {
            background: #d53f8c;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ù…Ø­Ø³Ù†Ø© Ù„Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª */
        .workspace-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-top: 20px;
        }
        
        .pieces-palette {
            background: rgba(247, 250, 252, 0.9);
            border-radius: var(--radius);
            padding: 15px;
            border: 2px dashed #cbd5e0;
        }
        
        .palette-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 10px;
            text-align: center;
        }
        
        .palette-pieces {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            min-height: 80px;
            padding: 10px;
        }
        
        .palette-piece {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.85rem;
            cursor: grab;
            user-select: none;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
            border: 2px solid transparent;
        }
        
        .palette-piece:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(26, 42, 108, 0.3);
        }
        
        .palette-piece:active {
            cursor: grabbing;
            transform: scale(0.95);
        }
        
        .sheet-workspace {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            border: 2px solid #e2e8f0;
            position: relative;
            overflow: hidden;
        }
        
        .workspace-title {
            font-size: 1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 15px;
            text-align: center;
        }
        
        .sheet-info-panel {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .sheet-info-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .sheet-info-value {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .sheet-info-label {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .sheet-container-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #e9ecef;
        }
        
        .sheet-container {
            position: relative;
            border: 3px solid var(--primary);
            background: repeating-linear-gradient(
                0deg,
                #f7fafc,
                #f7fafc 5px,
                #e2e8f0 5px,
                #e2e8f0 10px
            );
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .sheet-dimension-labels {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        }
        
        .dimension-label {
            position: absolute;
            background: rgba(26, 42, 108, 0.9);
            color: white;
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .dimension-label.length {
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .dimension-label.width {
            right: -45px;
            top: 50%;
            transform: translateY(-50%) rotate(90deg);
            transform-origin: center;
        }
        
        .droppable-piece {
            position: absolute;
            border: 2px solid var(--primary);
            background: rgba(26, 42, 108, 0.15);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--primary);
            cursor: move;
            user-select: none;
            transition: all 0.15s ease;
            text-align: center;
            overflow: hidden;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
            border-radius: 4px;
        }
        
        .droppable-piece:hover {
            background: rgba(26, 42, 108, 0.25);
            z-index: 10;
            border-width: 3px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .droppable-piece.dragging {
            opacity: 0.95;
            transform: scale(1.02);
            z-index: 100;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border-color: var(--secondary);
        }
        
        .droppable-piece.overlap {
            border-color: var(--danger);
            background: rgba(237, 100, 166, 0.25);
            animation: pulse-warning 0.5s ease-in-out;
        }
        
        @keyframes pulse-warning {
            0%, 100% { border-color: var(--danger); }
            50% { border-color: #ff6b6b; }
        }
        
        .piece-actions {
            position: absolute;
            top: 3px;
            left: 3px;
            display: flex;
            gap: 3px;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        .droppable-piece:hover .piece-actions {
            opacity: 1;
        }
        
        .piece-action-btn {
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            width: 24px;
            height: 24px;
            font-size: 0.75rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .piece-action-btn:hover {
            transform: scale(1.15);
        }
        
        .piece-action-btn.delete {
            color: var(--danger);
        }
        
        .piece-action-btn.delete:hover {
            background: var(--danger);
            color: white;
        }
        
        .workspace-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .workspace-controls .btn {
            width: auto;
            flex: 1;
            max-width: 200px;
            min-width: 140px;
        }
        
        .workspace-stats {
            background: rgba(247, 250, 252, 0.9);
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }
        
        .stat-item {
            background: white;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .stat-value {
            font-weight: 700;
            font-size: 1.3rem;
            color: var(--primary);
            margin-bottom: 4px;
        }
        
        .stat-label {
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        .grid-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(0,0,0,0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,0.05) 1px, transparent 1px);
            background-size: 10px 10px;
            pointer-events: none;
            opacity: 0.6;
        }
        
        .grain-direction {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(255, 255, 255, 0.95);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            color: var(--primary);
            border: 2px solid var(--primary);
            pointer-events: none;
            z-index: 5;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .precision-controls {
            display: flex;
            gap: 10px;
            margin: 10px 0;
            justify-content: center;
            align-items: center;
        }

        .precision-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s ease;
        }

        .precision-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .precision-display {
            font-size: 0.8rem;
            color: var(--dark);
            font-weight: 600;
        }

        /* Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© Ù…Ø­ÙÙˆØ¸Ø© */
        .results-section {
            display: none;
            margin-top: 20px;
        }
        
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: var(--radius);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            width: 95%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            z-index: 1001;
            animation: modalAppear 0.3s ease-out;
        }
        
        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -40%);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%);
            }
        }
        
        .modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 20px;
            border-radius: var(--radius) var(--radius) 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background 0.3s ease;
        }
        
        .close-modal:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .modal-body {
            padding: 20px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            padding: 15px 20px;
            background: white;
            border-radius: 0 0 var(--radius) var(--radius);
            border-top: 1px solid #e2e8f0;
        }
        
        .modal-actions .btn {
            flex: 1;
            margin: 0;
        }
        
        .results-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: var(--radius);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: var(--shadow);
            margin-bottom: 15px;
        }
        
        .sheet-result {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        
        .sheet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary);
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .sheet-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
        }
        
        .sheet-stats {
            font-size: 0.85rem;
            color: var(--gray);
            display: flex;
            gap: 10px;
        }
        
        .cuts-display {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }
        
        .cut-piece {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
            box-shadow: 0 2px 4px rgba(26, 42, 108, 0.3);
        }
        
        .waste-piece {
            background: linear-gradient(135deg, var(--danger) 0%, #ed8936 100%);
        }
        
        .efficient-badge {
            background: linear-gradient(135deg, var(--secondary) 0%, #38a169 100%);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 600;
            margin-right: 8px;
        }
        
        .sheet-visualization {
            margin-top: 15px;
            border: 1px solid #e2e8f0;
            border-radius: 8px;
            overflow: hidden;
            background: white;
            position: relative;
            height: 250px;
        }
        
        .sheet-base {
            width: 100%;
            height: 100%;
            position: relative;
            background: repeating-linear-gradient(
                0deg,
                #f7fafc,
                #f7fafc 5px,
                #e2e8f0 5px,
                #e2e8f0 10px
            );
        }
        
        .cut-rectangle {
            position: absolute;
            border: 2px solid var(--primary);
            background: rgba(26, 42, 108, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.6rem;
            font-weight: 600;
            color: var(--primary);
            overflow: hidden;
            text-align: center;
        }
        
        .sheet-dimensions {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.8rem;
            color: var(--gray);
        }
        
        .sheet-orientation {
            background: rgba(26, 42, 108, 0.1);
            padding: 8px 12px;
            border-radius: 6px;
            margin-top: 10px;
            font-size: 0.8rem;
            text-align: center;
            border: 1px dashed var(--primary);
        }
        
        .summary {
            background: linear-gradient(135deg, var(--dark) 0%, #4a5568 100%);
            color: white;
            padding: 20px;
            border-radius: var(--radius);
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .summary h3 {
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .summary p {
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .summary strong {
            color: #a0aec0;
        }
        
        footer {
            background: linear-gradient(135deg, var(--dark) 0%, #4a5568 100%);
            color: white;
            padding: 15px;
            text-align: center;
            margin-top: 20px;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .designer-info {
            font-size: 0.9rem;
            font-weight: 600;
            color: #e2e8f0;
        }
        
        .contact-button {
            background: linear-gradient(135deg, #25D366 0%, #128C7E 100%);
            color: white;
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            font-size: 0.85rem;
        }
        
        .contact-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(37, 211, 102, 0.3);
        }
        
        .copyright {
            font-size: 0.75rem;
            opacity: 0.8;
            color: #cbd5e0;
        }
        
        .footer-divider {
            width: 80%;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--primary), transparent);
            margin: 5px 0;
        }
        
        @media (max-width: 768px) {
            .workspace-container {
                flex-direction: column;
            }
            
            .pieces-palette {
                order: 2;
            }
            
            .sheet-workspace {
                order: 1;
            }
        }
        
        @media (min-width: 1200px) {
            .container {
                max-width: 1400px;
            }
            
            .workspace-container {
                flex-direction: row;
            }
            
            .pieces-palette {
                flex: 0 0 300px;
            }
            
            .sheet-workspace {
                flex: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ“ Ø­Ø§Ø³Ø¨Ø© ØªÙ‚Ø·ÙŠØ¹ Ø£Ù„ÙˆØ§Ø­ Ø§Ù„ÙØ§ÙŠØ¨Ø±</h1>
            <p class="subtitle">Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°ÙƒÙŠ Ù„ØªÙ‚Ø·ÙŠØ¹ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ - Ø£Ù‚Ù„ Ù‡Ø¯Ø±ØŒ Ø£Ø¹Ù„Ù‰ ÙƒÙØ§Ø¡Ø©</p>
        </header>
        
        <div class="app-switcher">
            <a href="https://ahmadqatea.github.io/aluminum_cutter/" class="app-btn">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ…</a>
            <a href="#" class="app-btn active">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙØ§ÙŠØ¨Ø±</a>
        </div>
        
        <div class="main-content">
            <div class="card">
                <div class="card-title">ğŸ“ Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù„ÙˆØ­ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="sheetLength">Ø·ÙˆÙ„ Ø§Ù„Ù„ÙˆØ­ (Ø³Ù…) - Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø£ÙÙ‚ÙŠ</label>
                        <input type="number" id="sheetLength" value="280" min="1" step="0.1">
                        <small style="color: var(--gray); font-size: 0.8rem; margin-top: 4px; display: block;">
                            ğŸ’¡ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ø±ÙˆÙ‚ Ø§Ù„Ø²ÙŠÙ†ÙŠØ© ÙŠÙƒÙˆÙ† ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø¹Ø¯ (Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø£ÙÙ‚ÙŠ)
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="sheetWidth">Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ­ (Ø³Ù…) - Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ</label>
                        <input type="number" id="sheetWidth" value="130" min="1" step="0.1">
                        <small style="color: var(--gray); font-size: 0.8rem; margin-top: 4px; display: block;">
                            ğŸ“ Ø§Ù„Ø¨Ø¹Ø¯ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ Ø¹Ù„Ù‰ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ø±ÙˆÙ‚
                        </small>
                    </div>
                </div>
                <div class="sheet-info-panel" style="margin-top: 15px;">
                    <div class="sheet-info-item">
                        <div class="sheet-info-value" id="totalSheetArea">36,400</div>
                        <div class="sheet-info-label">Ø³Ù…Â² Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙƒÙ„ÙŠØ©</div>
                    </div>
                    <div class="sheet-info-item">
                        <div class="sheet-info-value">280 Ø³Ù…</div>
                        <div class="sheet-info-label">Ø§Ù„Ø·ÙˆÙ„ (Ø£ÙÙ‚ÙŠ)</div>
                    </div>
                    <div class="sheet-info-item">
                        <div class="sheet-info-value">130 Ø³Ù…</div>
                        <div class="sheet-info-label">Ø§Ù„Ø¹Ø±Ø¶ (Ø¹Ù…ÙˆØ¯ÙŠ)</div>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-title">âœ‚ï¸ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="pieceLength">Ø·ÙˆÙ„ Ø§Ù„Ù‚Ø·Ø¹Ø© (Ø³Ù…) - Ù…ÙˆØ§Ø²ÙŠ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ­ (Ø¹Ù…ÙˆØ¯ÙŠ)</label>
                        <input type="number" id="pieceLength" step="0.1" min="0.1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø·ÙˆÙ„">
                    </div>
                    <div class="form-group">
                        <label for="pieceWidth">Ø¹Ø±Ø¶ Ø§Ù„Ù‚Ø·Ø¹Ø© (Ø³Ù…) - Ù…ÙˆØ§Ø²ÙŠ Ù„Ø·ÙˆÙ„ Ø§Ù„Ù„ÙˆØ­ (Ø£ÙÙ‚ÙŠ)</label>
                        <input type="number" id="pieceWidth" step="0.1" min="0.1" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø¹Ø±Ø¶">
                    </div>
                    <div class="form-group">
                        <label for="pieceQuantity">Ø§Ù„ÙƒÙ…ÙŠØ©</label>
                        <input type="number" id="pieceQuantity" min="1" value="1" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ø·Ø¹">
                    </div>
                </div>
                
                <button class="btn" onclick="addPiece()">
                    <span>â•</span>
                    <span>Ø¥Ø¶Ø§ÙØ© Ù‚Ø·Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</span>
                </button>
                
                <div class="form-group" style="margin-top: 15px;">
                    <label>ğŸ“‹ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</label>
                    <div class="pieces-list" id="piecesList">
                        <p style="text-align:center;color:#718096;padding:20px;font-style:italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø·Ø¹ Ù…Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯</p>
                    </div>
                </div>
                
                <div class="buttons-group">
                    <button class="btn" onclick="calculateOptimizedCutting()">
                        <span>ğŸ§®</span>
                        <span>Ø§Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</span>
                    </button>
                    <button class="btn btn-success" onclick="openWorkspace()">
                        <span>ğŸ¨</span>
                        <span>ÙˆØ¶Ø¹ÙŠØ© Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª</span>
                    </button>
                    <button class="btn btn-danger" onclick="clearAll()">
                        <span>ğŸ—‘ï¸</span>
                        <span>Ù…Ø³Ø­ Ø§Ù„ÙƒÙ„</span>
                    </button>
                </div>
            </div>

            <!-- Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„ Ù„Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª -->
            <div class="workspace-container" id="workspaceContainer" style="display: none;">
                <div class="pieces-palette">
                    <div class="palette-title">ğŸ§© Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©</div>
                    <div class="palette-pieces" id="palettePieces">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ù‚Ø·Ø¹ -->
                    </div>
                    <div style="text-align: center; margin-top: 10px; font-size: 0.8rem; color: var(--gray);">
                        ğŸ’¡ Ø§Ø³Ø­Ø¨ Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­ Ø£Ùˆ Ø§Ù†Ù‚Ø± Ø¹Ù„ÙŠÙ‡Ø§
                    </div>
                </div>
                
                <div class="sheet-workspace">
                    <div class="workspace-title">ğŸ“‹ Ù„ÙˆØ­ Ø§Ù„ØªÙ‚Ø·ÙŠØ¹ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ</div>
                    
                    <div class="sheet-info-panel">
                        <div class="sheet-info-item">
                            <div class="sheet-info-value" id="wsSheetLength">280</div>
                            <div class="sheet-info-label">Ø·ÙˆÙ„ Ø§Ù„Ù„ÙˆØ­ (Ø³Ù…) - Ø£ÙÙ‚ÙŠ</div>
                        </div>
                        <div class="sheet-info-item">
                            <div class="sheet-info-value" id="wsSheetWidth">130</div>
                            <div class="sheet-info-label">Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ­ (Ø³Ù…) - Ø¹Ù…ÙˆØ¯ÙŠ</div>
                        </div>
                        <div class="sheet-info-item">
                            <div class="sheet-info-value" id="wsTotalArea">36,400</div>
                            <div class="sheet-info-label">Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ø§Ù„ÙƒÙ„ÙŠØ©</div>
                        </div>
                    </div>

                    <div class="precision-controls">
                        <span class="precision-display">Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ø±ÙŠÙƒ: <span id="precisionValue">1</span> Ø¨ÙƒØ³Ù„</span>
                        <button class="precision-btn" onclick="changePrecision(0.5)">Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© (0.5px)</button>
                        <button class="precision-btn" onclick="changePrecision(1)">Ø¯Ù‚Ø© Ù…ØªÙˆØ³Ø·Ø© (1px)</button>
                        <button class="precision-btn" onclick="changePrecision(2)">Ø¯Ù‚Ø© Ù…Ù†Ø®ÙØ¶Ø© (2px)</button>
                    </div>
                    
                    <div class="sheet-container-wrapper">
                        <div class="sheet-container" id="sheetContainer">
                            <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø·Ø¹ Ù‡Ù†Ø§ -->
                            <div class="grain-direction">â†”ï¸ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ø±ÙˆÙ‚ (Ø£ÙÙ‚ÙŠ)</div>
                            <div class="grid-overlay"></div>
                            <div class="sheet-dimension-labels">
                                <div class="dimension-label length" id="lengthLabel">280 Ø³Ù…</div>
                                <div class="dimension-label width" id="widthLabel">130 Ø³Ù…</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="workspace-stats">
                        <div class="stats-grid" id="workspaceStats">
                            <div class="stat-item">
                                <div class="stat-value" id="usedArea">0</div>
                                <div class="stat-label">Ø³Ù…Â² Ù…Ø³ØªØ®Ø¯Ù…</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="wasteArea">36,400</div>
                                <div class="stat-label">Ø³Ù…Â² Ù‡Ø¯Ø±</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="efficiency">0%</div>
                                <div class="stat-label">ÙƒÙØ§Ø¡Ø©</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="piecesCount">0</div>
                                <div class="stat-label">Ù‚Ø·Ø¹ Ù…Ø³ØªØ®Ø¯Ù…Ø©</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="workspace-controls">
                        <button class="btn" onclick="autoArrangePieces()">
                            <span>ğŸ”§</span>
                            <span>ØªØ±ØªÙŠØ¨ ØªÙ„Ù‚Ø§Ø¦ÙŠ</span>
                        </button>
                        <button class="btn btn-success" onclick="saveWorkspace()">
                            <span>ğŸ’¾</span>
                            <span>Ø­ÙØ¸ Ø§Ù„ØªØµÙ…ÙŠÙ…</span>
                        </button>
                        <button class="btn btn-danger" onclick="clearWorkspace()">
                            <span>ğŸ—‘ï¸</span>
                            <span>Ù…Ø³Ø­ Ø§Ù„Ù„ÙˆØ­</span>
                        </button>
                        <button class="btn" onclick="closeWorkspace()">
                            <span>â†</span>
                            <span>Ø¹ÙˆØ¯Ø©</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="footer-content">
                <div class="designer-info">ğŸ‘¨â€ğŸ’» ØªØµÙ…ÙŠÙ…: Ø£Ø­Ù…Ø¯ Ù‚Ø·ÙŠØ¹</div>
                <div class="footer-divider"></div>
                <a href="https://wa.me/963993511250" class="contact-button" target="_blank">
                    <span>ğŸ’¬</span>
                    <span>ÙˆØ§ØªØ³Ø§Ø¨</span>
                    <span style="font-size:0.7rem;opacity:0.9">+963993511250</span>
                </a>
                <div class="copyright">Â© 2024 ÙˆØ±Ø´Ø© Ø§Ù„ØªØ¹Ø§ÙˆÙ† Ù„Ù„Ø£Ù„Ù…Ù†ÙŠÙˆÙ… ÙˆØ§Ù„ÙØ§ÙŠØ¨Ø±</div>
            </div>
        </footer>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
    <div class="modal-overlay" id="resultsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªÙ‚Ø·ÙŠØ¹ Ø§Ù„Ø£Ù…Ø«Ù„</h2>
                <button class="close-modal" onclick="closeResultsModal()">âœ•</button>
            </div>
            <div class="modal-body" id="modalResultsContainer">
                <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‡Ù†Ø§ -->
            </div>
            <div class="modal-actions">
                <button class="btn" onclick="closeResultsModal()">
                    <span>âŒ</span>
                    <span>Ø¥ØºÙ„Ø§Ù‚</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        // ğŸ§® Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ
        let pieces = [];
        let isWorkspaceOpen = false;
        let currentSheetLength = 280;
        let currentSheetWidth = 130;
        let dragPrecision = 1; // Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ø±ÙŠÙƒ Ø¨Ø§Ù„Ø¨ÙƒØ³Ù„
        let availablePieces = []; // Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙÙŠ Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ø¹Ù…Ù„
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„ÙˆØ­
        function updateSheetInfo() {
            const length = parseFloat(document.getElementById('sheetLength').value) || 280;
            const width = parseFloat(document.getElementById('sheetWidth').value) || 130;
            const totalArea = length * width;
            
            document.getElementById('totalSheetArea').textContent = formatNumber(totalArea);
            document.getElementById('wsSheetLength').textContent = formatDecimal(length);
            document.getElementById('wsSheetWidth').textContent = formatDecimal(width);
            document.getElementById('wsTotalArea').textContent = formatNumber(totalArea);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ³Ù…ÙŠØ§Øª
            document.getElementById('lengthLabel').textContent = formatDecimal(length) + ' Ø³Ù…';
            document.getElementById('widthLabel').textContent = formatDecimal(width) + ' Ø³Ù…';
        }
        
        // ØªØºÙŠÙŠØ± Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ø±ÙŠÙƒ
        function changePrecision(precision) {
            dragPrecision = precision;
            document.getElementById('precisionValue').textContent = precision;
        }
        
        function addPiece() {
            const length = parseFloat(document.getElementById('pieceLength').value);
            const width = parseFloat(document.getElementById('pieceWidth').value);
            const quantity = parseInt(document.getElementById('pieceQuantity').value);
            
            if (!length || length < 0.1 || !width || width < 0.1) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø£Ø¨Ø¹Ø§Ø¯ ØµØ­ÙŠØ­Ø© Ù„Ù„Ù‚Ø·Ø¹Ø©');
                return;
            }
            
            for (let i = 0; i < quantity; i++) {
                pieces.push({length, width});
            }
            
            updatePiecesList();
            document.getElementById('pieceLength').value = '';
            document.getElementById('pieceWidth').value = '';
            document.getElementById('pieceQuantity').value = 1;
            saveData();
        }
        
        function updatePiecesList() {
            const list = document.getElementById('piecesList');
            
            if (pieces.length === 0) {
                list.innerHTML = '<p style="text-align:center;color:#718096;padding:20px;font-style:italic">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù‚Ø·Ø¹ Ù…Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯</p>';
                return;
            }
            
            const grouped = {};
            pieces.forEach(piece => {
                const key = `${piece.length}x${piece.width}`;
                if (!grouped[key]) {
                    grouped[key] = {
                        length: piece.length,
                        width: piece.width,
                        count: 0
                    };
                }
                grouped[key].count++;
            });
            
            let html = '';
            Object.values(grouped).sort((a, b) => (b.length * b.width) - (a.length * a.width)).forEach(item => {
                html += `<div class="piece-item">
                    <span class="piece-info">${item.count} Ù‚Ø·Ø¹Ø© Ã— ${formatDecimal(item.length)}Ø³Ù… Ã— ${formatDecimal(item.width)}Ø³Ù…</span>
                    <button class="remove-btn" onclick="removePiece('${item.length}', '${item.width}')">âœ• Ø­Ø°Ù</button>
                </div>`;
            });
            
            list.innerHTML = html;
        }
        
        function removePiece(length, width) {
            const index = pieces.findIndex(p => p.length.toString() === length && p.width.toString() === width);
            if (index !== -1) {
                pieces.splice(index, 1);
                updatePiecesList();
                saveData();
            }
        }
        
        function clearAll() {
            pieces = [];
            updatePiecesList();
            saveData();
        }
        
        // Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´Ø±ÙŠØ©
        function formatDecimal(num) {
            return Number.isInteger(num) ? num.toString() : num.toFixed(1);
        }
        
        // Ø¯Ø§Ù„Ø© Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
        function formatNumber(num) {
            return num.toLocaleString('ar-EG');
        }

        // ğŸ¨ Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø§Ù„Ù…Ø­Ø³Ù† Ø¬Ø¯Ø§Ù‹
        function openWorkspace() {
            if (pieces.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù‚Ø·Ø¹ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            currentSheetLength = parseFloat(document.getElementById('sheetLength').value) || 280;
            currentSheetWidth = parseFloat(document.getElementById('sheetWidth').value) || 130;
            
            document.getElementById('workspaceContainer').style.display = 'flex';
            isWorkspaceOpen = true;
            
            updateSheetInfo();
            initializeWorkspace();
            updateWorkspaceStats();
        }
        
        function closeWorkspace() {
            document.getElementById('workspaceContainer').style.display = 'none';
            isWorkspaceOpen = false;
        }
        
        function initializeWorkspace() {
            const palette = document.getElementById('palettePieces');
            const sheetContainer = document.getElementById('sheetContainer');
            
            // ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ø³Ø§Ø­Ø©
            palette.innerHTML = '';
            sheetContainer.querySelectorAll('.droppable-piece').forEach(piece => piece.remove());
            
            // ØªØ¹ÙŠÙŠÙ† Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ù„ÙˆØ­ - ÙˆØ¶Ø¹ Ø£ÙÙ‚ÙŠ (Ø§Ù„Ø·ÙˆÙ„ Ø£ÙÙ‚ÙŠ ÙˆØ§Ù„Ø¹Ø±Ø¶ Ø¹Ù…ÙˆØ¯ÙŠ)
            const maxWidth = 800; // Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¹Ø±Ø¶ Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ
            const maxHeight = 500;
            const scale = Math.min(maxWidth / currentSheetLength, maxHeight / currentSheetWidth);
            
            sheetContainer.style.width = `${currentSheetLength * scale}px`;
            sheetContainer.style.height = `${currentSheetWidth * scale}px`;
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©
            availablePieces = JSON.parse(JSON.stringify(pieces));
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø·Ø¹ Ø§Ù„Ø¨Ù„ÙŠØª
            updatePalettePieces();
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…Ø­ÙÙˆØ¸ Ø¥Ù† ÙˆØ¬Ø¯
            loadWorkspace();
        }
        
        function updatePalettePieces() {
            const palette = document.getElementById('palettePieces');
            palette.innerHTML = '';
            
            const groupedPieces = {};
            availablePieces.forEach(piece => {
                const key = `${piece.length}x${piece.width}`;
                if (!groupedPieces[key]) {
                    groupedPieces[key] = {
                        length: piece.length,
                        width: piece.width,
                        count: 0
                    };
                }
                groupedPieces[key].count++;
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù‚Ø·Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ø¨Ù„ÙŠØª
            Object.values(groupedPieces).forEach((piece, index) => {
                const palettePiece = document.createElement('div');
                palettePiece.className = 'palette-piece';
                palettePiece.textContent = `${formatDecimal(piece.length)}Ã—${formatDecimal(piece.width)} (${piece.count})`;
                palettePiece.dataset.length = piece.length;
                palettePiece.dataset.width = piece.width;
                palettePiece.dataset.index = index;
                palettePiece.draggable = true;
                
                palettePiece.addEventListener('dragstart', handleDragStart);
                palettePiece.addEventListener('click', handlePaletteClick);
                
                palette.appendChild(palettePiece);
            });
        }
        
        function handleDragStart(e) {
            const piece = e.target;
            e.dataTransfer.setData('text/plain', JSON.stringify({
                length: parseFloat(piece.dataset.length),
                width: parseFloat(piece.dataset.width),
                fromPalette: true
            }));
        }
        
        function handlePaletteClick(e) {
            const piece = e.target;
            const length = parseFloat(piece.dataset.length);
            const width = parseFloat(piece.dataset.width);
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù‚Ø·Ø¹Ø© Ù…Ù† Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©
            const pieceIndex = availablePieces.findIndex(p => p.length === length && p.width === width);
            if (pieceIndex !== -1) {
                availablePieces.splice(pieceIndex, 1);
                updatePalettePieces();
                
                // ÙˆØ¶Ø¹ Ø§Ù„Ù‚Ø·Ø¹Ø© ÙÙŠ ÙˆØ³Ø· Ø§Ù„Ù„ÙˆØ­
                const sheetContainer = document.getElementById('sheetContainer');
                const scale = getSheetScale();
                const centerX = (sheetContainer.offsetWidth - (width * scale)) / 2;
                const centerY = (sheetContainer.offsetHeight - (length * scale)) / 2;
                
                addPieceToSheet(length, width, centerX, centerY);
            }
        }
        
        function addPieceToSheet(length, width, x, y) {
            const sheetContainer = document.getElementById('sheetContainer');
            const scale = getSheetScale();
            
            const pieceElement = document.createElement('div');
            pieceElement.className = 'droppable-piece';
            pieceElement.style.width = `${width * scale}px`;  // Ø§Ù„Ø¹Ø±Ø¶ ÙÙŠ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø£ÙÙ‚ÙŠ
            pieceElement.style.height = `${length * scale}px`; // Ø§Ù„Ø·ÙˆÙ„ ÙÙŠ Ø§Ù„Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ
            pieceElement.style.left = `${x}px`;
            pieceElement.style.top = `${y}px`;
            pieceElement.textContent = `${formatDecimal(length)}Ã—${formatDecimal(width)}`;
            pieceElement.dataset.length = length;
            pieceElement.dataset.width = width;
            pieceElement.dataset.x = x;
            pieceElement.dataset.y = y;
            pieceElement.dataset.id = Date.now() + Math.random(); // Ù…Ø¹Ø±Ù ÙØ±ÙŠØ¯ Ù„Ù„Ù‚Ø·Ø¹Ø©
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
            const actions = document.createElement('div');
            actions.className = 'piece-actions';
            
            const deleteBtn = document.createElement('button');
            deleteBtn.className = 'piece-action-btn delete';
            deleteBtn.innerHTML = 'âœ•';
            deleteBtn.title = 'Ø­Ø°Ù Ø§Ù„Ù‚Ø·Ø¹Ø© ÙˆØ¥Ø¹Ø§Ø¯ØªÙ‡Ø§ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©';
            deleteBtn.onclick = (e) => {
                e.stopPropagation();
                removePieceFromSheet(pieceElement);
            };
            
            actions.appendChild(deleteBtn);
            pieceElement.appendChild(actions);
            
            // Ø¥Ø¶Ø§ÙØ© Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø³Ø­Ø¨ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¯Ù‚Ø©
            makeHighPrecisionDraggable(pieceElement);
            
            sheetContainer.appendChild(pieceElement);
            updateWorkspaceStats();
        }
        
        function removePieceFromSheet(pieceElement) {
            const length = parseFloat(pieceElement.dataset.length);
            const width = parseFloat(pieceElement.dataset.width);
            
            // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù‚Ø·Ø¹ Ø§Ù„Ù…ØªØ§Ø­Ø©
            availablePieces.push({length, width});
            updatePalettePieces();
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† DOM
            pieceElement.remove();
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            updateWorkspaceStats();
        }
        
        function makeHighPrecisionDraggable(element) {
            let isDragging = false;
            let startX, startY, initialX, initialY;
            
            element.addEventListener('mousedown', startDrag);
            
            function startDrag(e) {
                isDragging = true;
                element.classList.add('dragging');
                
                startX = e.clientX;
                startY = e.clientY;
                initialX = element.offsetLeft;
                initialY = element.offsetTop;
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… requestAnimationFrame Ù„ØªØ­Ø±ÙŠÙƒ Ø³Ù„Ø³
                document.addEventListener('mousemove', drag);
                document.addEventListener('mouseup', stopDrag);
                
                e.preventDefault();
                e.stopPropagation();
            }
            
            function drag(e) {
                if (!isDragging) return;
                
                const dx = e.clientX - startX;
                const dy = e.clientY - startY;
                
                let newX = initialX + dx;
                let newY = initialY + dy;
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¯Ù‚Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©
                newX = Math.round(newX / dragPrecision) * dragPrecision;
                newY = Math.round(newY / dragPrecision) * dragPrecision;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø¨Ø¯Ù‚Ø©
                const sheetContainer = document.getElementById('sheetContainer');
                const maxX = sheetContainer.offsetWidth - element.offsetWidth;
                const maxY = sheetContainer.offsetHeight - element.offsetHeight;
                
                newX = Math.max(0, Math.min(newX, maxX));
                newY = Math.max(0, Math.min(newY, maxY));
                
                // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ù…Ø¨Ø§Ø´Ø±Ø©
                element.style.left = newX + "px";
                element.style.top = newY + "px";
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                element.dataset.x = newX;
                element.dataset.y = newY;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ¯Ø§Ø®Ù„
                checkOverlap(element);
            }
            
            function stopDrag() {
                isDragging = false;
                element.classList.remove('dragging');
                
                document.removeEventListener('mousemove', drag);
                document.removeEventListener('mouseup', stopDrag);
                
                updateWorkspaceStats();
                saveWorkspaceAuto();
            }
        }
        
        function checkOverlap(element) {
            const allPieces = document.querySelectorAll('.droppable-piece');
            let hasOverlap = false;
            
            const rect1 = {
                left: element.offsetLeft,
                right: element.offsetLeft + element.offsetWidth,
                top: element.offsetTop,
                bottom: element.offsetTop + element.offsetHeight
            };
            
            allPieces.forEach(otherPiece => {
                if (otherPiece !== element && !otherPiece.classList.contains('dragging')) {
                    const rect2 = {
                        left: otherPiece.offsetLeft,
                        right: otherPiece.offsetLeft + otherPiece.offsetWidth,
                        top: otherPiece.offsetTop,
                        bottom: otherPiece.offsetTop + otherPiece.offsetHeight
                    };
                    
                    if (!(rect1.right < rect2.left || 
                          rect1.left > rect2.right || 
                          rect1.bottom < rect2.top || 
                          rect1.top > rect2.bottom)) {
                        hasOverlap = true;
                    }
                }
            });
            
            if (hasOverlap) {
                element.classList.add('overlap');
            } else {
                element.classList.remove('overlap');
            }
        }
        
        function getSheetScale() {
            const sheetContainer = document.getElementById('sheetContainer');
            return sheetContainer.offsetWidth / currentSheetLength;
        }
        
        function updateWorkspaceStats() {
            const pieces = document.querySelectorAll('.droppable-piece');
            let totalUsedArea = 0;
            
            pieces.forEach(piece => {
                const length = parseFloat(piece.dataset.length);
                const width = parseFloat(piece.dataset.width);
                totalUsedArea += length * width;
            });
            
            const totalSheetArea = currentSheetLength * currentSheetWidth;
            const wasteArea = totalSheetArea - totalUsedArea;
            const efficiency = totalSheetArea > 0 ? (totalUsedArea / totalSheetArea) * 100 : 0;
            
            document.getElementById('usedArea').textContent = formatNumber(totalUsedArea);
            document.getElementById('wasteArea').textContent = formatNumber(wasteArea);
            document.getElementById('efficiency').textContent = efficiency.toFixed(1) + '%';
            document.getElementById('piecesCount').textContent = pieces.length;
        }
        
        function autoArrangePieces() {
            clearWorkspace();
            const results = optimizedSheetCutting(pieces, currentSheetLength, currentSheetWidth);
            
            if (results.length > 0) {
                const sheet = results[0];
                const scale = getSheetScale();
                
                sheet.pieces.forEach(piece => {
                    const x = piece.x * scale;
                    const y = piece.y * scale;
                    addPieceToSheet(piece.length, piece.width, x, y);
                });
            }
            
            updateWorkspaceStats();
        }
        
        function saveWorkspace() {
            const piecesData = [];
            document.querySelectorAll('.droppable-piece').forEach(piece => {
                piecesData.push({
                    length: parseFloat(piece.dataset.length),
                    width: parseFloat(piece.dataset.width),
                    x: parseInt(piece.dataset.x),
                    y: parseInt(piece.dataset.y)
                });
            });
            
            localStorage.setItem('fiberCutter_workspace', JSON.stringify({
                pieces: piecesData,
                sheetLength: currentSheetLength,
                sheetWidth: currentSheetWidth
            }));
            
            alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªØµÙ…ÙŠÙ… Ø¨Ù†Ø¬Ø§Ø­!');
        }
        
        function saveWorkspaceAuto() {
            // Ø­ÙØ¸ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¨Ø¯ÙˆÙ† Ø¥Ø´Ø¹Ø§Ø±
            const piecesData = [];
            document.querySelectorAll('.droppable-piece').forEach(piece => {
                piecesData.push({
                    length: parseFloat(piece.dataset.length),
                    width: parseFloat(piece.dataset.width),
                    x: parseInt(piece.dataset.x),
                    y: parseInt(piece.dataset.y)
                });
            });
            
            localStorage.setItem('fiberCutter_workspace', JSON.stringify({
                pieces: piecesData,
                sheetLength: currentSheetLength,
                sheetWidth: currentSheetWidth
            }));
        }
        
        function loadWorkspace() {
            const saved = localStorage.getItem('fiberCutter_workspace');
            if (saved) {
                const data = JSON.parse(saved);
                
                if (data.sheetLength === currentSheetLength && data.sheetWidth === currentSheetWidth) {
                    data.pieces.forEach(piece => {
                        addPieceToSheet(piece.length, piece.width, piece.x, piece.y);
                    });
                }
            }
        }
        
        function clearWorkspace() {
            document.querySelectorAll('.droppable-piece').forEach(piece => piece.remove());
            // Ø¥Ø¹Ø§Ø¯Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø·Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØ§Ø­Ø©
            availablePieces = JSON.parse(JSON.stringify(pieces));
            updatePalettePieces();
            updateWorkspaceStats();
        }

        // Ø¬Ø¹Ù„ Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù„ÙˆØ­ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
        document.addEventListener('DOMContentLoaded', function() {
            const sheetContainer = document.getElementById('sheetContainer');
            
            sheetContainer.addEventListener('dragover', function(e) {
                e.preventDefault();
            });
            
            sheetContainer.addEventListener('drop', function(e) {
                e.preventDefault();
                const data = JSON.parse(e.dataTransfer.getData('text/plain'));
                
                if (data.fromPalette) {
                    const rect = sheetContainer.getBoundingClientRect();
                    const scale = getSheetScale();
                    const x = e.clientX - rect.left - (data.width * scale) / 2;
                    const y = e.clientY - rect.top - (data.length * scale) / 2;
                    
                    addPieceToSheet(data.length, data.width, x, y);
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„ÙˆØ­ Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ù„Ù‚ÙŠÙ…
            document.getElementById('sheetLength').addEventListener('input', updateSheetInfo);
            document.getElementById('sheetWidth').addEventListener('input', updateSheetInfo);
            
            // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
            updateSheetInfo();
        });

        // ğŸ§  Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„ØªÙ‚Ø·ÙŠØ¹ Ø§Ù„Ù…Ø­Ø³Ù†Ø©
        function optimizedSheetCutting(pieces, sheetLength, sheetWidth) {
            if (pieces.length === 0) return [];

            const sortedPieces = [...pieces].sort((a, b) => (b.length * b.width) - (a.length * a.width));
            const sheets = [];
            
            function createNewSheet() {
                return {
                    pieces: [],
                    levels: [],
                    usedArea: 0,
                    totalArea: sheetLength * sheetWidth,
                    wasteArea: sheetLength * sheetWidth
                };
            }
            
            sortedPieces.forEach(piece => {
                let placed = false;
                
                for (const sheet of sheets) {
                    let bestLevel = null;
                    let bestX = 0;
                    
                    for (const level of sheet.levels) {
                        const remainingWidth = sheetLength - level.usedWidth;
                        if (piece.width <= remainingWidth && piece.length <= level.height) {
                            bestLevel = level;
                            bestX = level.usedWidth;
                            break;
                        }
                    }
                    
                    if (bestLevel) {
                        const placedPiece = {
                            ...piece,
                            x: bestX,
                            y: bestLevel.y,
                            length: piece.length,
                            width: piece.width
                        };
                        
                        sheet.pieces.push(placedPiece);
                        bestLevel.usedWidth += piece.width;
                        sheet.usedArea += piece.length * piece.width;
                        placed = true;
                        break;
                    } else {
                        const usedHeight = sheet.levels.reduce((sum, level) => sum + level.height, 0);
                        const remainingHeight = sheetWidth - usedHeight;
                        
                        if (piece.length <= remainingHeight) {
                            const newLevel = {
                                y: usedHeight,
                                height: piece.length,
                                usedWidth: piece.width,
                                pieces: []
                            };
                            
                            const placedPiece = {
                                ...piece,
                                x: 0,
                                y: usedHeight,
                                length: piece.length,
                                width: piece.width
                            };
                            
                            newLevel.pieces.push(placedPiece);
                            sheet.levels.push(newLevel);
                            sheet.pieces.push(placedPiece);
                            sheet.usedArea += piece.length * piece.width;
                            placed = true;
                            break;
                        }
                    }
                }
                
                if (!placed) {
                    const newSheet = createNewSheet();
                    
                    if (piece.length <= sheetWidth) {
                        const newLevel = {
                            y: 0,
                            height: piece.length,
                            usedWidth: piece.width,
                            pieces: []
                        };
                        
                        const placedPiece = {
                            ...piece,
                            x: 0,
                            y: 0,
                            length: piece.length,
                            width: piece.width
                        };
                        
                        newLevel.pieces.push(placedPiece);
                        newSheet.levels.push(newLevel);
                        newSheet.pieces.push(placedPiece);
                        newSheet.usedArea += piece.length * piece.width;
                        sheets.push(newSheet);
                    }
                }
            });
            
            sheets.forEach(sheet => {
                sheet.wasteArea = sheet.totalArea - sheet.usedArea;
                sheet.efficiency = (sheet.usedArea / sheet.totalArea) * 100;
            });
            
            return sheets;
        }
        
        // Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…Ø­ÙÙˆØ¸Ø©
        function calculateOptimizedCutting() {
            if (pieces.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù‚Ø·Ø¹ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }
            
            const sheetLength = parseFloat(document.getElementById('sheetLength').value) || 280;
            const sheetWidth = parseFloat(document.getElementById('sheetWidth').value) || 130;
            
            const results = optimizedSheetCutting(pieces, sheetLength, sheetWidth);
            displayResultsInModal(results, sheetLength, sheetWidth);
        }
        
        function displayResultsInModal(sheets, sheetLength, sheetWidth) {
            const container = document.getElementById('modalResultsContainer');
            
            let html = '';
            let totalWaste = 0;
            let totalSheets = sheets.length;
            let efficientSheets = 0;
            let totalPiecesArea = 0;
            
            sheets.forEach((sheet, index) => {
                totalWaste += sheet.wasteArea;
                totalPiecesArea += sheet.usedArea;
                
                const isEfficient = sheet.efficiency >= 85;
                if (isEfficient) efficientSheets++;
                
                html += `<div class="sheet-result">
                    <div class="sheet-header">
                        <div>
                            <span class="sheet-title">Ø§Ù„Ù„ÙˆØ­ ${index + 1}</span>
                            ${isEfficient ? '<span class="efficient-badge">ÙƒÙØ§Ø¡Ø© Ø¹Ø§Ù„ÙŠØ©</span>' : ''}
                        </div>
                        <div class="sheet-stats">
                            <span>ğŸŸ¢ ${formatNumber(sheet.usedArea)}Ø³Ù…Â²</span>
                            <span>ğŸ”´ ${formatNumber(sheet.wasteArea)}Ø³Ù…Â²</span>
                            <span>ğŸ¯ ${sheet.efficiency.toFixed(1)}%</span>
                        </div>
                    </div>
                    <div class="cuts-display">`;
                
                sheet.pieces.forEach((piece, pieceIndex) => {
                    html += `<div class="cut-piece" title="Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${formatDecimal(piece.x)}Ã—${formatDecimal(piece.y)}">
                        ${formatDecimal(piece.length)}Ã—${formatDecimal(piece.width)}Ø³Ù…
                    </div>`;
                });
                
                if (sheet.wasteArea > 0) {
                    html += `<div class="cut-piece waste-piece">Ù‡Ø¯Ø±: ${formatNumber(sheet.wasteArea)}Ø³Ù…Â²</div>`;
                }
                
                html += `</div>
                    <div class="sheet-visualization">
                        <div class="sheet-base" id="modal-sheet-${index}"></div>
                    </div>
                    <div class="sheet-dimensions">
                        <span>Ø·ÙˆÙ„ Ø§Ù„Ù„ÙˆØ­: ${formatDecimal(sheetLength)} Ø³Ù… (Ø£ÙÙ‚ÙŠ)</span>
                        <span>Ø¹Ø±Ø¶ Ø§Ù„Ù„ÙˆØ­: ${formatDecimal(sheetWidth)} Ø³Ù… (Ø¹Ù…ÙˆØ¯ÙŠ)</span>
                    </div>
                </div>`;
            });
            
            const totalPieces = pieces.length;
            const totalMaterialArea = sheetLength * sheetWidth * totalSheets;
            const overallEfficiency = totalMaterialArea > 0 ? (totalPiecesArea / totalMaterialArea) * 100 : 0;
            
            html += `<div class="summary">
                <h3>ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                <p>ğŸ“¦ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©: <strong>${totalSheets}</strong></p>
                <p>âœ… Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„ÙØ¹Ø§Ù„Ø©: <strong>${efficientSheets}</strong></p>
                <p>âœ‚ï¸ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚Ø·Ø¹: <strong>${totalPieces}</strong></p>
                <p>ğŸ“ Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‡Ø¯Ø±: <strong>${formatNumber(totalWaste)} Ø³Ù…Â²</strong></p>
                <p>ğŸ¯ ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…: <strong>${overallEfficiency.toFixed(1)}%</strong></p>
            </div>`;
            
            container.innerHTML = html;
            
            sheets.forEach((sheet, index) => {
                visualizeSheet(sheet, `modal-sheet-${index}`, sheetLength, sheetWidth);
            });
            
            document.getElementById('resultsModal').style.display = 'block';
        }
        
        function visualizeSheet(sheet, containerId, sheetLength, sheetWidth) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            sheet.pieces.forEach((piece, pieceIndex) => {
                const rect = document.createElement('div');
                rect.className = 'cut-rectangle';
                
                const left = (piece.x / sheetLength) * 100;
                const top = (piece.y / sheetWidth) * 100;
                const width = (piece.width / sheetLength) * 100;
                const height = (piece.length / sheetWidth) * 100;
                
                rect.style.left = `${left}%`;
                rect.style.top = `${top}%`;
                rect.style.width = `${width}%`;
                rect.style.height = `${height}%`;
                rect.textContent = `${formatDecimal(piece.length)}Ã—${formatDecimal(piece.width)}`;
                
                container.appendChild(rect);
            });
        }
        
        function closeResultsModal() {
            document.getElementById('resultsModal').style.display = 'none';
        }
        
        // ğŸ’¾ Ù†Ø¸Ø§Ù… Ø§Ù„Ø­ÙØ¸
        function saveData() {
            localStorage.setItem('fiberCutter_pieces', JSON.stringify(pieces));
            localStorage.setItem('fiberCutter_sheetLength', document.getElementById('sheetLength').value);
            localStorage.setItem('fiberCutter_sheetWidth', document.getElementById('sheetWidth').value);
        }
        
        function loadData() {
            const savedPieces = localStorage.getItem('fiberCutter_pieces');
            const savedLength = localStorage.getItem('fiberCutter_sheetLength');
            const savedWidth = localStorage.getItem('fiberCutter_sheetWidth');
            
            if (savedPieces) {
                pieces = JSON.parse(savedPieces);
                updatePiecesList();
            }
            
            if (savedLength) {
                document.getElementById('sheetLength').value = savedLength;
            }
            
            if (savedWidth) {
                document.getElementById('sheetWidth').value = savedWidth;
            }
            
            updateSheetInfo();
        }
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            loadData();
        });
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('beforeunload', saveData);
        
        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.getElementById('resultsModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeResultsModal();
            }
        });

        // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø²Ø± Enter
        document.getElementById('pieceLength').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPiece();
            }
        });
        
        document.getElementById('pieceWidth').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                addPiece();
            }
        });
    </script>
</body>
</html>
